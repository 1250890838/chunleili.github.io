"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6980],{5680:(t,n,e)=>{e.d(n,{xA:()=>u,yg:()=>g});var r=e(6540);function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function a(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function o(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?a(Object(e),!0).forEach((function(n){i(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function p(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}var l=r.createContext({}),c=function(t){var n=r.useContext(l),e=n;return t&&(e="function"==typeof t?t(n):o(o({},n),t)),e},u=function(t){var n=c(t.components);return r.createElement(l.Provider,{value:n},t.children)},s="mdxType",d={inlineCode:"code",wrapper:function(t){var n=t.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(t,n){var e=t.components,i=t.mdxType,a=t.originalType,l=t.parentName,u=p(t,["components","mdxType","originalType","parentName"]),s=c(e),f=i,g=s["".concat(l,".").concat(f)]||s[f]||d[f]||a;return e?r.createElement(g,o(o({ref:n},u),{},{components:e})):r.createElement(g,o({ref:n},u))}));function g(t,n){var e=arguments,i=n&&n.mdxType;if("string"==typeof t||i){var a=e.length,o=new Array(a);o[0]=f;var p={};for(var l in n)hasOwnProperty.call(n,l)&&(p[l]=n[l]);p.originalType=t,p[s]="string"==typeof t?t:i,o[1]=p;for(var c=2;c<a;c++)o[c]=e[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,e)}f.displayName="MDXCreateElement"},4269:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>p,toc:()=>c});var r=e(8168),i=(e(6540),e(5680));const a={},o="\u63a2\u7d22Partio(3): partio\u7684\u6570\u636e\u5c01\u88c5\u6210\u5355\u4f8b\u7c7b",p={unversionedId:"partio/partio-3",id:"partio/partio-3",title:"\u63a2\u7d22Partio(3): partio\u7684\u6570\u636e\u5c01\u88c5\u6210\u5355\u4f8b\u7c7b",description:"\u6211\u4eec\u5c06partio\u7684\u6570\u636e\u5c01\u88c5\u6210\u5355\u4f8b\u7c7b\u3002\u8fd9\u6837\u5728\u7a0b\u5e8f\u7684\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u4ee5\u65b9\u4fbf\u7684\u5f15\u7528partio\u7684\u6570\u636e\u3002\u5355\u4f8b\u6211\u4eec\u91c7\u7528static\u3002\u6211\u4eec\u53ea\u8981\u5728\u7a0b\u5e8f\u7684\u4efb\u4f55\u5730\u65b9\u8bfb\u5165\u6570\u636e\uff0c\u5728\u5176\u4ed6\u5730\u65b9\u5c31\u80fd\u627e\u5230\u5e76\u4f7f\u7528\u8be5\u6570\u636e\u3002\u8fd9\u4e9b\u6570\u636e\u5373partio_data\u8fd9\u4e2a\u6210\u5458\u3002",source:"@site/docs/partio/partio-3.md",sourceDirName:"partio",slug:"/partio/partio-3",permalink:"/partio/partio-3",draft:!1,editUrl:"https://github.com/chunleili/chunleili.github.io/tree/master/docs/partio/partio-3.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u63a2\u7d22Partio(2) \u7ee7\u7eed\u63a2\u7d22\u7c92\u5b50\u683c\u5f0f\u5e93partio",permalink:"/partio/partio-2"},next:{title:"\u63a2\u7d22Partio(1): \u7c92\u5b50\u683c\u5f0f\u5e93partio\u7684\u5b89\u88c5\u4e0e\u4f7f\u7528",permalink:"/partio/partio-intro"}},l={},c=[],u={toc:c},s="wrapper";function d(t){let{components:n,...e}=t;return(0,i.yg)(s,(0,r.A)({},u,e,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"\u63a2\u7d22partio3-partio\u7684\u6570\u636e\u5c01\u88c5\u6210\u5355\u4f8b\u7c7b"},"\u63a2\u7d22Partio(3): partio\u7684\u6570\u636e\u5c01\u88c5\u6210\u5355\u4f8b\u7c7b"),(0,i.yg)("p",null,"\u6211\u4eec\u5c06partio\u7684\u6570\u636e\u5c01\u88c5\u6210\u5355\u4f8b\u7c7b\u3002\u8fd9\u6837\u5728\u7a0b\u5e8f\u7684\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u4ee5\u65b9\u4fbf\u7684\u5f15\u7528partio\u7684\u6570\u636e\u3002\u5355\u4f8b\u6211\u4eec\u91c7\u7528static\u3002\u6211\u4eec\u53ea\u8981\u5728\u7a0b\u5e8f\u7684\u4efb\u4f55\u5730\u65b9\u8bfb\u5165\u6570\u636e\uff0c\u5728\u5176\u4ed6\u5730\u65b9\u5c31\u80fd\u627e\u5230\u5e76\u4f7f\u7528\u8be5\u6570\u636e\u3002\u8fd9\u4e9b\u6570\u636e\u5373partio_data\u8fd9\u4e2a\u6210\u5458\u3002"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-cpp"},'#include <string>\n\n#include "Partio.h"\nusing namespace Partio;\n\nclass PartioSingleton\n{\npublic:\n    static inline PartioSingleton *current = nullptr;\n    static inline Partio::ParticlesDataMutable *partio_data = nullptr;\n    static PartioSingleton *getCurrent()\n    {\n        if (current == nullptr)\n        {\n            current = new PartioSingleton();\n        }\n        return current;\n    }\n    PartioSingleton()\n    {\n        partio_data = Partio::create();\n    }\n\n    void read(const char *c_filename)\n    {\n        partio_data = Partio::read(c_filename);\n    }\n\n    void print()\n    {\n        Partio::print(partio_data);\n    }\n};\n\n// PartioSingleton *PartioSingleton::current = nullptr;\n// ParticlesDataMutable *PartioSingleton::partio_data = nullptr;\n\n// \u6d4b\u8bd5\u4e00\u4e0b\u5728\u968f\u4fbf\u4e00\u4e2a\u51fd\u6570\u548c\u968f\u4fbf\u4e00\u4e2a\u7c7b\u4e2d\u4f7f\u7528PartioSingleton::getCurrent()\u662f\u5426\u80fd\u591f\u6b63\u5e38\u5de5\u4f5c\nvoid func()\n{\n    auto *d = PartioSingleton::getCurrent();\n    std::cout << "-----------I am in func" << std::endl;\n\n    d->print();\n}\n\nclass someClass\n{\npublic:\n    someClass()\n    {\n        auto *d = PartioSingleton::getCurrent();\n        std::cout << "----------I am in someClass" << std::endl;\n        d->print();\n    }\n};\n\nint main()\n{\n    auto *d = PartioSingleton::getCurrent();\n    d->read("ice-cream.bhclassic");\n    // d->print();\n\n    // d->read("test.bgeo");\n    // d->print();\n\n    func();\n\n    someClass a;\n\n    return 0;\n}\n')),(0,i.yg)("p",null,"\u8f93\u51fa"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},'(base) PS E:\\Dev\\my_partio\\build\\Release> ."E:/Dev/my_partio/build/Debug/test_heapdata.exe" \n-----------I am in func\nParticle count 5\nAttribute count 3\nattribute position type=VECTOR count=3\nattribute life type=FLOAT count=2\nattribute id type=INT count=1\nnum to print 5\n0: position=(0,0.1,0.2) life=(-1.2,10)  id=0,\n1: position=(0.1,0.2,0.3)       life=(-0.2,10)  id=1,\n2: position=(0.2,0.3,0.4)       life=(0.8,10)   id=2,\n3: position=(0.3,0.4,0.5)       life=(1.8,10)   id=3,\n4: position=(0.4,0.5,0.6)       life=(2.8,10)   id=4,\n----------I am in someClass\nParticle count 5\nAttribute count 3\nattribute position type=VECTOR count=3\nattribute life type=FLOAT count=2\nattribute id type=INT count=1\nnum to print 5\n0: position=(0,0.1,0.2) life=(-1.2,10)  id=0,\n1: position=(0.1,0.2,0.3)       life=(-0.2,10)  id=1,\n2: position=(0.2,0.3,0.4)       life=(0.8,10)   id=2,\n3: position=(0.3,0.4,0.5)       life=(1.8,10)   id=3,\n4: position=(0.4,0.5,0.6)       life=(2.8,10)   id=4,\n')),(0,i.yg)("p",null,"\u5b8c\u6574\u7684repo\u8bf7\u770b"),(0,i.yg)("p",null,(0,i.yg)("a",{parentName:"p",href:"https://github.com/chunleili/my_partio"},"https://github.com/chunleili/my_partio")),(0,i.yg)("p",null,"\u5173\u4e8ePartio\u7684\u5f80\u671f\u56de\u987e"),(0,i.yg)("p",null,(0,i.yg)("a",{parentName:"p",href:"https://blog.csdn.net/weixin_43940314/article/details/127746739"},"\u63a2\u7d22Partio(1): \u4eff\u771f\u7c92\u5b50\u6570\u636e\u683c\u5f0f\u8f6c\u6362\u5668partio\u7684\u7528\u6cd5")),(0,i.yg)("p",null,(0,i.yg)("a",{parentName:"p",href:"https://blog.csdn.net/weixin_43940314/article/details/127791571"},"\u63a2\u7d22Partio(2): \u7ee7\u7eed\u63a2\u7d22\u7c92\u5b50\u683c\u5f0f\u5e93partio")))}d.isMDXComponent=!0}}]);